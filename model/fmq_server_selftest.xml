<selftest>
    <init>
fmq_server_bind (self, "tcp://*:6000");
    </init>
    <step send = "OHAI" recv = "SRSLY" />
    <step send = "ICANHAZ" recv = "RTFM" />
    <step send = "NOM" recv = "RTFM" />
    <step send = "HUGZ" recv = "RTFM" />
</selftest>

<selftest config = "anonymous.cfg">
    <init>
fmq_server_bind (self, "tcp://*:6000");
    </init>
    <step send = "OHAI" recv = "OHAI-OK" />
    <step send = "NOM" />
    <step send = "HUGZ" recv = "HUGZ-OK" />
    <step send = "YARLY" recv = "RTFM" />
</selftest>

<selftest config = "server_test.cfg">
    <init>
fmq_server_bind (self, "tcp://*:6000");
    </init>
    <step send = "OHAI" recv = "ORLY" />
    <step send = "YARLY" recv = "OHAI-OK">
fmq_msg_mechanism_set (request, "PLAIN");
fmq_msg_response_set (request, fmq_sasl_plain_encode ("guest", "guest"));
    </step>
    <step send = "NOM" />
    <step send = "HUGZ" recv = "HUGZ-OK" />
    <step recv = "HUGZ" />
</selftest>
